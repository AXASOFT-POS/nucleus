{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Base JSON types",
  "description": "Definicia zakladnych typov",
  "type": "object",
  "$defs": {
        "uuidv7": {
            "type": "string",
            "$comment": "Jednoznacny identifikator transakcie uuid v7",
      "minLength": 36,
      "maxLength": 36,
      "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-7[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"
       },
    "TerminalBaseReqData": {
      "type": "object",
      "properties": {
        "tranDate": {
          "type": "string",
          "format": "date-time",
          "$comment": "CET/CEST dátum a čas transakcie vo formáte RFC 3339, napr. 2025-08-22T09:18:01+02:00"
        },
        "tranType": {
          "type": "string",
          "enum": [
            "0210","0230", "0430"
          ],
          "$comment": "Typ transakcie (0210/230/0430)",
          "maxLength": 4,
          "minLength": 4
        },
        "tranTransubtype": {
          "type": "string",
          "maxLength": 1,
          "minLength": 1,
          "enum": [
            "O","S","R","T","U"
          ]          
        },
        "tranTrancode": {
          "type": "string",
          "maxLength": 2,
          "minLength": 2,
          "$comment": "Transakcny kod transakcie /z PSTM spravy"
        },
        "approvalCode": {
          "type": "string",
          "minLength": 6,
          "maxLength": 8,
          "$comment": "Autorizacny kod transakcie"
        },
        "amount": {
          "type": "integer",
          "$comment": "Ciastka transakcie v centoch"
        },
        "terminalId": {
          "type": "string",
          "$comment": "Textovy identifikator terminalu transakcie",
          "minLength": 1,
          "maxLength": 16
        },
        "revReason": {          
          "$comment": "Dovod reverzalu u  revers trnx",
          "enum": [
            0,
            3,
            4,
            8
          ]
        },
        "tranIdPos": {
          "type": "string",
          "$comment": "SessionID/TrnxID z pokladne",
          "maxLength": 13,
          "minLength": 13
        },
        "tranSource": {
          "type": "integer",
          "$comment": "Zdroj transakcie   0 - Online 1 - BackOffice",
          "enum": [
            0,
            1
          ]
        },
        "originator": {
          "type": "string",
          "maxLength": 1,
          "minLength": 1,
          "$comment": "Povodca transakcie - vstup do systemu 1 - _SPDH_ORIGINATOR_   //vstup priamo z spdh C - _DB2AUTH_ORIGINATOR_  //vstup cez claim 2 - _SOAP_ORIGINATOR_    //vstup cez soap'"
        }
      },
      "required": [
        "tranDate",
        "tranType",
        "tranTransubtype",
        "tranTrancode",
        "tranSource",
        "originator"
      ]
    },
    "TerminalBaseRespData": {
      "type": "object",
      "properties": {
        "approvalCode": {
          "type": "string",
          "minLength": 6,
          "maxLength": 6,
          "$comment": "Autorizacny kod transakcie"
        },
        "respCode": {
          "type": "string",
          "$comment": "Navratovy kod transakcie",
          "maxLength": 3,
          "minLength": 3
        },
        "amount": {
          "type": "integer",
          "$comment": "Ciastka transakcie v centoch"
        }
      },
      "required": [
        "approvalCode",
        "respCode",
        "amount"
      ]
    }
  }
}
